---
title: "What’s making me sick? Predicting metabolic syndrome, the root of many evils."
author: "Team 2, ADS 503"
format: 
    html: 
        toc: true
        toc-depth: 4
        code-fold: true
    pdf: default
editor: visual
---

```{r warning=FALSE, message=FALSE}
library(AppliedPredictiveModeling)
library(car)
library(caret)
library(corrplot)
library(dplyr)
library(e1071)
library(earth)
library(elasticnet)
library(factoextra)
library(ggplot2) # for custom plots
library(glmnet)
library(grid)
library(gt)
library(Hmisc)
library(kernlab)
library(lars)
library(lattice)
library(latticeExtra)
library(MASS)
library(mlbench)
library(naniar) # missing data visualizations
library(neuralnet)
library(nnet)
library(plotmo)
library(pls)
library(pROC)
library(purrr)
library(randomForest)
library(skimr)
library(stats)
library(tibble)
library(tidyr)
library(tidyverse)
theme_set(theme_minimal(base_size = 8))

rseed <- 503
```

## Introduction

Metabolic syndrome (MetS) is a significant (and almost completely preventable) underlying set of multivariable risk factors for heart disease, type 2 diabetes mellitus, and other profound morbidities. 

The rising global prevalence of this underlying condition is creating massive impacts on the health and well being of communities while simultaneously driving up healthcare and insurance costs, and poses public health and clinical practice challenges. 

Many times the results of metabolic syndrome are not detected until irreversible damage is done in the individual, leading to life-shortening chronic illnesses that also decrease quality of life. 

Using machine learning to create predictive models for metabolic syndrome can allow healthcare practitioners to identify risk factors for MetS through inexpensive and non-invasive screening procedures, leading to reduction in further disease rates, improved quality of life for individuals, and reduced healthcare costs overall.

## Proposed Model Exploration

Metabolic Syndrome is a binary outcome variable indicating whether or not an individual has this diverse, complicated set of adverse health issues.
Machine learning models explored were:

-   Logistic regression

-   Linear Discriminant Analysis

-   k-Nearest Neighbors

-   CART (decision tree)

-   Random forest (ensemble method)

-   Support Vector Machines (SVM)

-   Gradient Boosting Machines (GBM/XGBoost/LightGBM)

## EDA

### Load the data

```{r data}

met_S <- read.csv("/Users/katherinekimberling/ADS 503/Assignments/Final Project/Metabolic Syndrome.csv")
```

### Perform Exploratory Data Analysis:

```{r EDA}
summary(met_S)
str(met_S)
skimr::skim(met_S)

```

```{r check for duplicates}
any(duplicated(met_S))
# If duplicates are found, eliminate them with following code:
# met_S <- dinstinct(met_S)
```

```{r missing data}
#colSums(is.na(met_S))
naniar::vis_miss(met_S)
# If there is significant missing data, explore imputation
```

```{r explore target variable}
table(met_S$MetabolicSyndrome)
prop.table(table(met_S$MetabolicSyndrome))
# If classes are imbalanced, we need to address this - SMOTE?
```

```{r summary statistics for numerical data}
summary(select_if(met_S, is.numeric))
```

```{r visualize distributions}
ggplot(met_S, aes(x = MetabolicSyndrom, y = Sex)) + geom_boxplot()

```

```{r explore colinearities}
#corrplot::corrplot(correlation_matrix, method = "color", type = "upper",
        # tl.col = "black", tl.srt = 45)
```

**References**

-   Antony, A. (2023). Metabolic Syndrome: A Comprehensive Dataset on Risk Factors and Health Indicators. \[Dataset\]. Retrieved from <https://www.kaggle.com/datasets/antimoni/metabolic-syndrome?resource=download>.
